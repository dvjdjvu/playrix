<img alt="main" width="400" src="https://i.pinimg.com/originals/64/5b/6f/645b6f9da5d8ce15b08cf77755190646.jpg" align = "center"/>

Оффер в Playrix. Здесь расскажу что удалось выяснить во время собеседовании о компании с технической точки зрения. До этого про эту компанию я ни чего не знал, да и в игры на телефоне не играю. Прособеседовался с ними случайно, периодически "хожу" на собеседования может что интересное попадется.

<cut/>

## Gamedev
Компания конечно ищет разработчиков с опытом из данной отрасли, но понимает что готового специалиста вряд ли найдешь. К примеру я ни какого опыта мобильной игровой разработки не имею, я системный программист. Поэтому для вновь прибывших они сделали обучающий видео курс, который обучит:
 - работе с **framework**-ом
 - работе с **редактором уровней**
Это полезно так как вводит в полный цикл разработки (от начала и до конца). Если я туда пойду, то на разработку движка или серверной части. Т.к. заниматься дизайном, графикой и прочим рисованием не люблю.
Ищут людей они на:
 - разработку редактора
 - разработку движку
 - серверную часть
Так что вилка выбора есть.

## Система организации разработки
Для управления проектами используется [asana](https://asana.com/), для управлением кода [github](https://github.com/). Разработчики придерживаются **code style**, про это я спросил первым делом т.к. не люблю когда полная неразбериха. Следовательно коммиты тех кто не хочет этому соответствовать должны отсекать до устранения. Периодически проводят **Code Review**.
Обещали что не будут мучать бесполезными совещаниями ради совещаний (с таким имею опыт работы), а связь только по делу.

## Разработка
Разработку в компании можно поделить на две составляющие: клиентская и серверная часть.

### Клиент
Это игры в которые играют пользователи. Например **GardenScapes** с разработчиками которой я непосредственно и общался.
![image](https://app2top.ru/wp-content/uploads/2016/08/Playrix-anonsirovala-novuyu-tri-v-ryad-Gardenscapes2.png)

То что мне удалось узнать, у компании свой игровой движок. Который она использует под свои проекты, он написан на **C++**(**17** стандарт). Движок составляет ~90% кода игры, остальная часть игры уже написана индивидуально для каждой платформы:
 - Windows
 - macOS
 - Android
 - iOS
 - Nintendo DS

Соответственно для **Android** графика игры пишется стандартными средствами на java, а движок вызывается как-нибудь так:
```cpp
#ifdef __cplusplus
extern "C" {
#endif
    void Java_org_test_TestClass_TestFunction(JNIEnv *, jobject) {
    
    }

#ifdef __cplusplus
}
#endif
```
```java
package org.test.cpp;

public class TestClass
{
    public native void TestFunction();

    protected void TestFunction() {
        myCppFunction();
    }
}
```
В **iOS** движок вызывается из Objective-C (как это делается не знаю), и т.п. для всех остальных платформ где нельзя использовать **C++** напрямую.

Для сборки движка используют компилятор **clang++**, соответственно с ключами под нужные платформы.
```bash
clang++ -target aarch64-linux-android21
```
```bash
clang++ -arch armv7 -mios-version-min=5.0
```

Набор библиотек доступный для разработки ограничен, т.к. проблемно добавлять новые библиотеки из-за необходимости поддержки различных архитектур. По разговорам с сотрудниками с которыми удалось пообщаться, код стараются делать максимально простым с точки зрения читабельности, поддержки. Обязательная документированность кода.

Все игровые вычисления происходят на игровом устройстве, связь с сервером для технического обмена информацией. Вся игровая механика в большинстве своем обрабатывается в одном потоке, распараллеливают догрузку ресурсов и отправку логов.

Использование однопоточного приложения существенно облегчает отладку.

### Сервер
Серверная часть написана на **node.js**, здесь у разработчиков больший полет фантазии в плане доступности технологий в разработке. Т.к. не надо поддерживать множество архитектур, главное что бы работало.

Основной функционал сервера:
 - обновление игр
 - обеспечения общения между игроками
 - сбор статистики
 - сбор логов

### Проблемы

Самые нестандартные/сложные/основные проблемы с которыми разработчики сталкивались:
 - установка игр пользователями на нестандартные устройства, например холодильник
 - нарушение логики игры в конфигах в результате игровых действий (два флага противоречат друг другу)
 - оптимизация приложения

Если в первом случае проблема была единичной и связана с тем что на устройстве не были установлены некоторые библиотеки от **google**. Решением было вывод предупреждения, что часть сервисов игры недоступна на устройствах данного типа. То во втором уже носила массовый характер и затрагивала всех пользователей в не зависимости от платформы. Что требовало быстро решить проблему. Недоволен один пользователь или тысячи разные вещи ;). Решением стало принудительное обновление конфига игры на устройствах с дальнейшим устранением в логике игры приводящей к такому результату.

Основная проблема заключается в оптимизации игр, так как мобильные устройства чувствительны к нагрузкам и энергопотреблению. Ни кому не понравится если за час игры, игра съест половину батареи, да и телефон будет гореть в руках.

Отладка данных ситуаций идет через логи, которые сервера получают в автоматическом режиме. Ну или тех. поддержку.

### Инструменты разработки
Здесь полная свобода выбора разработчика, хочешь под: Windwos, macOS, Linux или что тебе еще вздумается. Главное что бы это не сказывалось на скорости и качестве работы.

## Условия работы
### Местоположение
Большинство разработчиков находятся на удаленке там где им хочется. География персонала как я понял от Владивостока до Европы. Я общался с четырьмя сотрудниками, которые были в России, Кипр, Литва и Польше. Как я понял все в основном в одном временном поясе (+- 2 часа), так что не будет неудобства связанного со временем выхода на связь. Если захочешь переехать, то это не проблема. 
### Время работы
Четкой привязки нет, в большинстве своем можно работать в любое время дня и ночи как тебе удобнее. Необходимо быть на связи в дневное время суток, но думаю это все подстраивается.
### Техническое обеспечение
Все технические средства для разработки компания закупает и присылает сотруднику. Такие как компьютеры, мебель, устройства для отладки, ИБП. И вроде как при увольнении есть возможность выкупить себе полюбившийся инструмент.
### Заработная плата
Валюту в которой платят зарплату можно выбирать. Так что тут есть над чем задуматься, к примеру сейчас **$** и **€** почти равны (раньше было соотношение 1.25). И если ты выбрал то что проседает, то сам виноват ))
### Плюшки
 - ежегодный пересмотр ЗП
 - ДМС
 - 100% больничный в независимости от страны
 - 100% отпускные (например без перерасчета как в России по трудовым дням(когда в январе и мае брать отпуск невыгодно))
 - спорта
 - курсы англ. языка
 - онлайн психолог

На спорт и курсы идет компенсация (по словам > 50%). Про выходные разнящиеся от страны к стране забыл спросить. ДМС полностью компенсируется, т.к. покупаешь его сам в зависимости от того где живешь.

### Плюсы
Отнесу стабильность компании, т.к. люди не расхотят играть в телефоны видимо уже ни когда.
Возможность работы где и когда хочешь.

### Минусы
Которые мне высказали работники. Кому-то не нравится, что там где он живет нет офиса, нет живого общения. Другому разработчику не нравится однотипность проектов. То и другое я понимаю, т.к. сам с начала пандемии на удаленке и на работу езжу только от скуки )). Сам аналогично работаю с одним, двумя проектами. И когда мне надоедает меняю работу.
